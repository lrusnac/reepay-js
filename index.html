<html>

<head></head>

<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="dist/reepay.js"></script>


<body>
    <form id="testtoken">
        Cardno:
        <input type="text" data-reepay="number" id="cardn" value="4111 1111 1111 1111">
        <br /> Month:
        <input type="text" data-reepay="month" value="12">
        <br /> Year:
        <input type="text" data-reepay="year" value="24">
        <br /> CVV:
        <input type="text" data-reepay="cvv" value="123">
        <br /> First Name:
        <input type="text" data-reepay="first_name" value="Robert">
        <br /> Last Name:
        <input type="text" data-reepay="last_name" value="Mygind">
        <br />
        <input type="hidden" name="reepay-token" data-reepay="token">
        <button>submit</button>
    </form>


    <script>
        reepay.configure('pub_4340532086bc46daa3da974c3840e292');

        $('#testtoken').on('submit', function (event) {
            var form = this;
            event.preventDefault();

            reepay.token(form, function (err, token) {
                if (err) {
                    console.log(err);

                } else {
                    // reepay.js has filled in the 'token' field, so now we can submit the
                    // form to your server; alternatively, you can access token.id and do
                    // any processing you wish
                    //form.submit();

                    alert(token.id)
                    console.log("DONE");
                }
            });
        });

    </script>
</body>

</html>
